<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <title data-brand-title>Dashboard</title>

  <!-- Viewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/dashboard.css" />
  <link rel="stylesheet" href="css/sheet.css" />
  <link rel="stylesheet" href="css/logo.css" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
<!-- ===== LOADING OVERLAY ===== -->
<div id="loadingOverlay">
  <div class="loading-wrap">
    <div class="loading-ring"></div>

    <div class="loading-core">
      <!-- 🔴 LOGO TEXT GẮN TỪ CONFIG -->
      <div class="dukico-logo" data-brand-logo></div>
    </div>

    <div class="loading-text">ĐANG TẢI…</div>
  </div>
</div>

<!-- ===== LOCK SCREEN ===== -->
<div id="lockScreen">
  <div id="lockBox">
    <h2>Mật khẩu</h2>
    <p>Nhập mật khẩu để tiếp tục</p>

    <input id="passwordInput" type="password" placeholder="Mật khẩu..." />
    <div id="passwordError"></div>
    <button id="unlockBtn">MỞ</button>
  </div>
</div>

<!-- ================= TOP BAR ================= -->
<header class="top">
  <!-- 🔴 TITLE GẮN TỪ CONFIG -->
  <div class="title" data-brand-header></div>

  <div id="genTime">Đang tải dữ liệu…</div>
  <div id="activityTicker" class="ticker"></div>
</header>

<!-- ================= DASHBOARD ================= -->
<main id="dashboard" class="dashboard loading">

  <!-- ===== HÀNG TRÊN ===== -->
  <section class="top-row">

    <!-- Cột 1 -->
    <div class="card">
      <h2>TỔNG DỰ ÁN</h2>
      <div class="chart-wrap" style="height:240px">
        <canvas id="projectStatusChart"></canvas>
      </div>
    </div>

    <!-- Cột 2 -->
    <div class="card card--stretch">
      <h2>TỔNG QUAN TIẾN ĐỘ CÁC CĂN</h2>
      <div class="chart-wrap">
        <canvas id="unitOverviewChart"></canvas>
      </div>
    </div>

  </section>

  <!-- ===== HÀNG DƯỚI ===== -->
  <section class="bottom-row">

    <!-- CARD CÁC CĂN -->
    <div id="unitCards"></div>

    <!-- SIDEBAR -->
    <aside class="sidebar">

      <div class="card sidebar-widget">
        <h2>CẢNH BÁO TIẾN ĐỘ</h2>
        <div class="widget-body" id="sidebarSummary"></div>
      </div>

      <div class="card sidebar-widget sidebar-widget--stretch">
        <h2>PHÂN BỔ CÔNG THEO TỔ</h2>
        <div class="widget-body" id="sidebarDetail"></div>
      </div>

    </aside>
  </section>

</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <div class="footer-left">
    © <span id="year"></span>
    <span id="footerBrand"></span>
    ·
    <span class="dev">
      <span id="footerDevText"></span>
      <a id="footerDevLink" href="#" target="_blank" rel="noopener"></a>
    </span>
  </div>

  <div class="footer-right">
    Phiên bản <span id="appVersion"></span>
  </div>
</footer>

<!-- ================= JS ================= -->
<script src="js/config.js"></script>
<script src="js/brand.js"></script>
<script src="js/dashboard.js"></script>
<script src="js/logo.js"></script>

<button id="openSheetBtn" class="sheet-fab">📄 Sheet</button>
</body>
</html>
